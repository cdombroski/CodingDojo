(ns bankocr.core-test
  (:use bankocr.core clojure.test))

(def case1-accounts (str
                      " _  _  _  _  _  _  _  _  _ \n"
                      "| || || || || || || || || |\n"
                      "|_||_||_||_||_||_||_||_||_|\n\n"
                      "                           \n"
                      "  |  |  |  |  |  |  |  |  |\n"
                      "  |  |  |  |  |  |  |  |  |\n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      " _| _| _| _| _| _| _| _| _|\n"
                      "|_ |_ |_ |_ |_ |_ |_ |_ |_ \n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      " _| _| _| _| _| _| _| _| _|\n"
                      " _| _| _| _| _| _| _| _| _|\n\n"
                      "                           \n"
                      "|_||_||_||_||_||_||_||_||_|\n"
                      "  |  |  |  |  |  |  |  |  |\n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      "|_ |_ |_ |_ |_ |_ |_ |_ |_ \n"
                      " _| _| _| _| _| _| _| _| _|\n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      "|_ |_ |_ |_ |_ |_ |_ |_ |_ \n"
                      "|_||_||_||_||_||_||_||_||_|\n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      "  |  |  |  |  |  |  |  |  |\n"
                      "  |  |  |  |  |  |  |  |  |\n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      "|_||_||_||_||_||_||_||_||_|\n"
                      "|_||_||_||_||_||_||_||_||_|\n\n"
                      " _  _  _  _  _  _  _  _  _ \n"
                      "|_||_||_||_||_||_||_||_||_|\n"
                      " _| _| _| _| _| _| _| _| _|\n\n"
                      "    _  _     _  _  _  _  _ \n"
                      "  | _| _||_||_ |_   ||_||_|\n"
                      "  ||_  _|  | _||_|  ||_| _|\n\n"))

(deftest case1 []
  (is (= [[0 0 0 0 0 0 0 0 0]
          [1 1 1 1 1 1 1 1 1]
          [2 2 2 2 2 2 2 2 2]
          [3 3 3 3 3 3 3 3 3]
          [4 4 4 4 4 4 4 4 4]
          [5 5 5 5 5 5 5 5 5]
          [6 6 6 6 6 6 6 6 6]
          [7 7 7 7 7 7 7 7 7]
          [8 8 8 8 8 8 8 8 8]
          [9 9 9 9 9 9 9 9 9]
          [1 2 3 4 5 6 7 8 9]]
        (read-account-numbers (java.io.StringReader. case1-accounts)))))
